# Macbook Pro 15" 2015 (MacBookPro11,4)
## Powermanagent and ACPI
CONFIG_X86_INTEL_PSTATE=y
## Keyboard and trackpad
CONFIG_HID_APPLE=m
## SSD
CONFIG_NVM=y
CONFIG_NVM_GENNVM=y
CONFIG_NVM_RRPC=y
CONFIG_DRM_I915=y
# Thunderbolt
CONFIG_PCI=y
CONFIG_PCIEPORTBUS=y
CONFIG_HOTPLUG_PCI_PCIE=y
CONFIG_HOTPLUG_PCI=y
CONFIG_HOTPLUG_PCI_ACPI=y
CONFIG_THUNDERBOLT=m
# Audio
CONFIG_SND_HDA_INTEL=m
CONFIG_SND_HDA_CODEC_HDMI=m
CONFIG_SND_HDA_CODEC_CIRRUS=m
# Wi-Fi
CONFIG_WLAN_VENDOR_BROADCOM=y
CONFIG_BRCMFMAC=m
CONFIG_BRCMFMAC_SDIO=n
CONFIG_BRCMFMAC_PCIE=y
# Bluetooth
CONFIG_BT_HCIBTUSB=m
CONFIG_BT_HCIBTUSB_BCM=y
# Webcam
CONFIG_MEDIA_SUPPORT=m # Required for CONFIG_MEDIA_CAMERA_SUPPORT
CONFIG_MEDIA_CAMERA_SUPPORT=y # Required for CONFIG_VIDEO_V4L2
CONFIG_USB_VIDEO_CLASS=m # Required to autoselect VIDEOBUF2_VMALLOC which is required for VIDEOBUF2_CORE
CONFIG_MEDIA_USB_SUPPORT=y # Required to autoselect VIDEOBUF2_VMALLOC which is required for VIDEOBUF2_CORE
CONFIG_USB_GSPCA=n # Enabled by default when MEDIA_USB_SUPPORT is enabled for some reason
CONFIG_MEDIA_PCI_SUPPORT=y # Required for CONFIG_VIDEO_TW68
CONFIG_VIDEO_TW68=m # Required to autoselect CONFIG_VIDEOBUF2_DMA_SG, there's no way to set it directly and the out of tree driver depends on it
# Cardreader
CONFIG_MMC=m
CONFIG_MMC_BLOCK=m
CONFIG_MMC_BLOCK_BOUNCE=y
CONFIG_MMC_SDHCI=m
# Other stuff
CONFIG_INTEL_MEI_ME=m
CONFIG_MOUSE_BCM5974=m
CONFIG_BACKLIGHT_APPLE=m
CONFIG_SENSORS_APPLESMC=m
CONFIG_APPLE_GMUX=m
CONFIG_USB_XHCI_HCD=m
CONFIG_ACPI_SBS=m
CONFIG_I2C_I801=m
CONFIG_LPC_ICH=m

# Sensors
CONFIG_HWMON=y
CONFIG_SENSORS_CORETEMP=m
CONFIG_INTEL_PCH_THERMAL=m

# Unsure
CONFIG_MFD_INTEL_LPSS_ACPI=y
CONFIG_MFD_INTEL_LPSS_PCI=y
CONFIG_DMADEVICES=y
CONFIG_INTEL_IDMA64=m
CONFIG_INTEL_IOATDMA=m
CONFIG_ACPI_WMI=m
